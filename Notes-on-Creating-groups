### Standard Groups with Standard Group Policies

# usr changer
  aws iam update-user  --user-name j_PCWF_delatorre --new-user-name j_stmd_delatorre

# grp Changer
  aws iam update-group --group-name Admins --new-group-name Administrators

---- ---- ---- ---- ---- ---- ---- ---- ---- ---- ---- ---- ---- ---- ---- ---- 
# grpadd Administrators
export AWSGroup=Administrators
#
 polgrpatt arn:aws:iam::aws:policy/AdministratorAccess ${AWSGroup}
#
# Verify
polgrpls ${AWSGroup}                     # list-attached-group-policies


export AWSGroup=PowerUsers
#
 polgrpatt arn:aws:iam::aws:policy/PowerUserAccess ${AWSGroup}
 polgrpatt arn:aws:iam::aws:policy/IAMReadOnlyAccess ${AWSGroup}
#
# Verify
polgrpls ${AWSGroup}                     # list-attached-group-policies


# grpadd Developers
export AWSGroup=Developers
  polgrpatt arn:aws:iam::aws:policy/AmazonRDSFullAccess ${AWSGroup}
  polgrpatt arn:aws:iam::aws:policy/AmazonEC2FullAccess ${AWSGroup}
  polgrpatt arn:aws:iam::aws:policy/AWSLambdaFullAccess ${AWSGroup}
  polgrpatt arn:aws:iam::aws:policy/AmazonS3FullAccess ${AWSGroup}
  polgrpatt arn:aws:iam::aws:policy/CloudWatchFullAccess ${AWSGroup}
  polgrpatt arn:aws:iam::aws:policy/AmazonDynamoDBFullAccess ${AWSGroup}
  polgrpatt arn:aws:iam::aws:policy/AmazonAPIGatewayAdministrator ${AWSGroup}
  polgrpatt arn:aws:iam::aws:policy/AWSIoTFullAccess ${AWSGroup}
  polgrpatt arn:aws:iam::aws:policy/ReadOnlyAccess ${AWSGroup}
#
# not sure about IAMReadOnlyAccess for Developers
# Verify
polgrpls ${AWSGroup}                     # list-attached-group-policies

#
export AWSGroup=S3FullAccess    
  polgrpatt arn:aws:iam::aws:policy/AmazonS3FullAccess ${AWSGroup}
  polgrpatt arn:aws:iam::aws:policy/ReadOnlyAccess     ${AWSGroup}
#
# Verify
  polgrpls ${AWSGroup}                     # list-attached-group-policies

#
export AWSGroup=S3ReadOnlyAccess           # Good for Monitoring 
                                           # CloudWatch version, could be nice
  polgrpatt arn:aws:iam::aws:policy/AmazonS3ReadOnlyAccess ${AWSGroup}
#
# Verify
  polgrpls ${AWSGroup}                     # list-attached-group-policies
#


# Double checking policies

polawsls | grep Arn | grep ReadOnlyAccess | fcat    # find Group Policy - Standard AWS in this case => arn

polstat arn:aws:iam::aws:policy/ReadOnlyAccess  => v2

poldump arn:aws:iam::aws:policy/ReadOnlyAccess v29

---- ---- ---- ---- ---- ---- ---- ---- ---- ---- ---- ---- ---- ---- ---- ---- 

##### Test 001 - AmazonS3FullAccess
 
grpadd TestGroup001
 
polgrpatt  arn:aws:iam::aws:policy/AmazonS3FullAccess  TestGroup001
 
polgrpls  TestGroup001                    # Check to see if there
 
polgrpdet  arn:aws:iam::aws:policy/AmazonS3FullAccess  TestGroup001
 
grpdel TestGroup001
 
 
##### Test 002 - TestGroup002
 
polawsls | grep ReadOnlyAccess           # find an AWS Policy
 
grpadd TestGroup002
grpls                                    # Check previous
 
polgrpatt  arn:aws:iam::aws:policy/AmazonS3ReadOnlyAccess   TestGroup002
polgrpatt  arn:aws:iam::aws:policy/IAMReadOnlyAccess        TestGroup002
 
polgrpls  TestGroup002                   # Check to see if there
 
polgrpdet  arn:aws:iam::aws:policy/AmazonS3ReadOnlyAccess    TestGroup002
polgrpdet  arn:aws:iam::aws:policy/IAMReadOnlyAccess         TestGroup002
 
grpdel TestGroup002
